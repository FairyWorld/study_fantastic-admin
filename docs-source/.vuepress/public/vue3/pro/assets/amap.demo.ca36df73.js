
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as a,b as e,n as t}from"./index.2c18650f.js";import{g as l,r as n,z as o,L as s,a5 as p,l as i,o as d,h as r,q as c,w as g,i as u,t as m,x as f,u as h,j as v}from"./vendor.9da56f98.js";const y={class:"map"},A={class:"search-name"},M=["title"],b=l({name:"AmapMarker"});var k=a(Object.assign(b,{props:{v:{type:String,default:"1.4.15"},appkey:{type:String,default:""},height:{type:[Number,String],default:500},lnglat:{type:Array,default:()=>[]}},emits:["update:lnglat"],setup(a,{emit:e}){const t=a,l=n("");let v="",b="",k="";const w=o((()=>"string"==typeof t.height?t.height:`${t.height}px`));function x(){v=new AMap.Map("amap",{zoom:12}),AMap.plugin("AMap.ToolBar",(()=>{let a=new AMap.ToolBar;v.addControl(a)})),b=new AMap.Marker({draggable:!0,cursor:"move"}),b.on("dragend",(a=>{e("update:lnglat",[a.lnglat.lng,a.lnglat.lat])})),k=new AMap.Autocomplete,v.on("click",(a=>{_(a.lnglat.getLng(),a.lnglat.getLat())})),2==t.lnglat.length&&_(t.lnglat[0],t.lnglat[1])}function _(a,t){v.remove(b),b.setPosition([a,t]),v.add(b),v.setFitView(),e("update:lnglat",[a,t])}function j(a,e){k.search(a,((a,t)=>{e(t.tips)}))}function C(a){l.value=a.name,a.location?_(a.location.lng,a.location.lat):v.setCity(a.adcode)}return s((()=>{if("undefined"==typeof AMap){let a=document.createElement("script");a.charset="UTF-8",a.src=`https://webapi.amap.com/maps?v=${t.v}&key=${t.appkey}&plugin=AMap.Autocomplete`,document.head.appendChild(a),a.onload=()=>{x()}}else p((()=>{x()}))})),(a,e)=>{const t=i("el-autocomplete");return d(),r("div",y,[c(t,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),class:"search","fetch-suggestions":j,"trigger-on-focus":!1,clearable:"","prefix-icon":"el-icon-location-information",placeholder:"请输入地址关键字",onSelect:C},{default:g((({item:a})=>[u("div",A,m(a.name),1),u("span",{class:"search-address",title:a.district+a.address},m(a.district+a.address),9,M)])),_:1},8,["modelValue"]),u("div",{id:"amap",style:f(`height:${h(w)};`)},null,4)])}}}),[["__scopeId","data-v-2c40c034"]]);const w={name:"ComponentExampleAmap",props:{},data:()=>({lnglat:[120.068384,30.290939]}),created(){},mounted(){},methods:{}};"function"==typeof e&&e(w);var x=a(w,[["render",function(a,e,l,n,o,s){const p=k,i=t;return d(),r("div",null,[c(i,null,{default:g((()=>[u("div",null,"经纬度："+m(o.lnglat),1),v(" 注意这里替换高德地图的appkey "),c(p,{lnglat:o.lnglat,"onUpdate:lnglat":e[0]||(e[0]=a=>o.lnglat=a),appkey:"8f7844cc502e17bb549c04c9aaadaf94",height:600},null,8,["lnglat"])])),_:1})])}]]);export{x as default};

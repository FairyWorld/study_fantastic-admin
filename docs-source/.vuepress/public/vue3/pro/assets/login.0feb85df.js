
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as e}from"./index.1de06d30.js";import{_ as a,u as l,a as o,s as t,b as s,c as n}from"./index.2c18650f.js";import{_ as r}from"./index.45a1c72d.js";import{g as u,r as d,L as p,h as c,q as i,w as m,i as f,a0 as g,a1 as v,u as w,A as h,j as _,p as y,k as b,M as x,a2 as V,l as k,o as $,t as C,a3 as q,a4 as P,y as j,a5 as z,O as U}from"./vendor.9da56f98.js";const F=e=>(y("data-v-78fb50aa"),e=e(),b(),e),R=F((()=>f("div",{class:"bg-banner"},null,-1))),L=F((()=>f("i",{class:"ri-translate"},null,-1))),K={id:"login-box"},O=F((()=>f("div",{class:"login-banner"},null,-1))),A={class:"title-container"},I={class:"title"},M={class:"flex-bar"},B=j("记住我"),D=j("忘记密码"),E={style:{"margin-top":"20px","margin-bottom":"-10px",color:"#666","font-size":"14px","text-align":"center","font-weight":"bold"}},G=F((()=>f("span",{style:{"margin-right":"5px"}},"演示帐号一键登录：",-1))),H=j("admin"),J=j("test"),N=F((()=>f("div",{class:"title-container"},[f("h3",{class:"title"},"重置密码")],-1))),Q=u({name:"Login"}),S=Object.assign(Q,{setup(a){const{proxy:s}=U(),u=x(),y=V(),b=l(),F=o(),Q=d("login"),S=d({account:t.local.get("login_account"),password:"",remember:t.local.has("login_account")}),T=d({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),W=d({account:t.local.get("login_account"),captcha:"",newPassword:""}),X=d({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),Y=d(!1),Z=d("password"),ee=d(null);function ae(){Z.value="password"===Z.value?"":"password",z((()=>{s.$refs.password.focus()}))}function le(){s.$refs.loginFormRef.validate((e=>{e&&(Y.value=!0,F.login(S.value).then((()=>{Y.value=!1,S.value.remember?t.local.set("login_account",S.value.account):t.local.remove("login_account"),y.push(ee.value)})).catch((()=>{Y.value=!1})))}))}function oe(){s.$message({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),s.$refs.resetFormRef.validate((e=>{}))}function te(e){S.value.account=e,S.value.password="123456",le()}return p((()=>{var e;ee.value=null!=(e=u.query.redirect)?e:"/"})),(a,l)=>{const o=r,t=n,s=k("el-input"),u=k("el-form-item"),d=k("el-checkbox"),p=k("el-button"),y=k("el-form"),x=k("el-col"),V=k("el-row"),z=e;return $(),c("div",null,[R,i(o,{class:"i18n-selector"},{default:m((()=>[L])),_:1}),f("div",K,[O,g(i(y,{ref:"loginFormRef",model:S.value,rules:T.value,class:"login-form",autocomplete:"on","label-position":"left"},{default:m((()=>[f("div",A,[f("h3",I,C(w("Fantastic-admin 专业版"))+"管理后台",1)]),f("div",null,[i(u,{prop:"account"},{default:m((()=>[i(s,{ref:"name",modelValue:S.value.account,"onUpdate:modelValue":l[0]||(l[0]=e=>S.value.account=e),placeholder:a.$t("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:m((()=>[i(t,{name:"user"})])),_:1},8,["modelValue","placeholder"])])),_:1}),i(u,{prop:"password"},{default:m((()=>[i(s,{ref:"password",modelValue:S.value.password,"onUpdate:modelValue":l[1]||(l[1]=e=>S.value.password=e),type:Z.value,placeholder:a.$t("app.password"),tabindex:"2",autocomplete:"on",onKeyup:q(le,["enter"])},{prefix:m((()=>[i(t,{name:"password"})])),suffix:m((()=>[i(t,{name:"password"===Z.value?"eye":"eye-open",onClick:ae},null,8,["name"])])),_:1},8,["modelValue","type","placeholder","onKeyup"])])),_:1})]),f("div",M,[i(d,{modelValue:S.value.remember,"onUpdate:modelValue":l[2]||(l[2]=e=>S.value.remember=e)},{default:m((()=>[B])),_:1},8,["modelValue"]),i(p,{type:"text",onClick:l[3]||(l[3]=e=>Q.value="reset")},{default:m((()=>[D])),_:1})]),i(p,{loading:Y.value,type:"primary",size:"large",style:{width:"100%"},onClick:P(le,["prevent"])},{default:m((()=>[j(C(a.$t("app.login")),1)])),_:1},8,["loading","onClick"]),f("div",E,[G,i(p,{type:"danger",size:"small",onClick:l[4]||(l[4]=e=>te("admin"))},{default:m((()=>[H])),_:1}),i(p,{type:"danger",size:"small",plain:"",onClick:l[5]||(l[5]=e=>te("test"))},{default:m((()=>[J])),_:1})])])),_:1},8,["model","rules"]),[[v,"login"==Q.value]]),g(i(y,{ref:"resetFormRef",model:W.value,rules:X.value,class:"login-form","auto-complete":"on","label-position":"left"},{default:m((()=>[N,f("div",null,[i(u,{prop:"account"},{default:m((()=>[i(s,{ref:"name",modelValue:W.value.account,"onUpdate:modelValue":l[6]||(l[6]=e=>W.value.account=e),placeholder:a.$t("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:m((()=>[i(t,{name:"user"})])),_:1},8,["modelValue","placeholder"])])),_:1}),i(u,{prop:"captcha"},{default:m((()=>[i(s,{ref:"captcha",modelValue:W.value.captcha,"onUpdate:modelValue":l[7]||(l[7]=e=>W.value.captcha=e),placeholder:a.$t("app.captcha"),type:"text",tabindex:"2",autocomplete:"on"},{prefix:m((()=>[i(t,{name:"captcha"})])),append:m((()=>[i(p,null,{default:m((()=>[j(C(a.$t("app.sendCaptcha")),1)])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),i(u,{prop:"newPassword"},{default:m((()=>[i(s,{ref:"newPassword",modelValue:W.value.newPassword,"onUpdate:modelValue":l[8]||(l[8]=e=>W.value.newPassword=e),type:Z.value,placeholder:a.$t("app.newPassword"),tabindex:"3",autocomplete:"on"},{prefix:m((()=>[i(t,{name:"password"})])),suffix:m((()=>[i(t,{name:"password"===Z.value?"eye":"eye-open",onClick:ae},null,8,["name"])])),_:1},8,["modelValue","type","placeholder"])])),_:1})]),i(V,{gutter:15,style:{"padding-top":"20px"}},{default:m((()=>[i(x,{md:6},{default:m((()=>[i(p,{size:"large",style:{width:"100%"},onClick:l[9]||(l[9]=e=>Q.value="login")},{default:m((()=>[j(C(a.$t("app.goLogin")),1)])),_:1})])),_:1}),i(x,{md:18},{default:m((()=>[i(p,{loading:Y.value,type:"primary",size:"large",style:{width:"100%"},onClick:P(oe,["prevent"])},{default:m((()=>[j(C(a.$t("app.check")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model","rules"]),[[v,"reset"==Q.value]])]),w(b).copyright.enable?($(),h(z,{key:0})):_("v-if",!0)])}}});"function"==typeof s&&s(S);var T=a(S,[["__scopeId","data-v-78fb50aa"]]);export{T as default};


/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as e}from"./index.2434fe6d.js";import{a,b as l,h as s,j as r}from"./index.d5f01412.js";import{i as o,j as d,k as u,g as t,e as p,Q as n,R as m,r as i,f as w,v as f,V as c}from"./vendor.9748e354.js";const g=f("提交"),h=o({name:"PersonalEditPassword"}),v=Object.assign(h,{setup(l){const o=n(),f=m(),{proxy:h}=c(),v=a(),b=d({password:"",newpassword:"",checkpassword:""}),V=d({password:[{required:!0,message:"请输入原密码",trigger:"blur"}],newpassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}],checkpassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{validator:(e,a,l)=>{a!==b.value.newpassword?l(new Error("请确认新密码")):l()}}]});function _(){h.$refs.formRef.validate((e=>{e&&v.editPassword(b.value).then((()=>{h.$message({type:"success",message:"模拟修改成功，请重新登录"}),v.logout().then((()=>{f.push({name:"login",query:{redirect:o.fullPath}})}))})).catch((()=>{}))}))}return(a,l)=>{const o=r,d=i("el-input"),n=i("el-form-item"),m=i("el-form"),f=i("el-col"),c=i("el-row"),h=s,v=i("el-button"),y=e;return w(),u("div",null,[t(o,{title:"修改密码",content:"定期修改密码可以提高帐号安全性噢~"}),t(h,null,{default:p((()=>[t(c,null,{default:p((()=>[t(f,{md:24,lg:12},{default:p((()=>[t(m,{ref:"formRef",model:b.value,rules:V.value,"label-width":"120px"},{default:p((()=>[t(n,{label:"原密码",prop:"password"},{default:p((()=>[t(d,{modelValue:b.value.password,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value.password=e),type:"password",placeholder:"请输入原密码"},null,8,["modelValue"])])),_:1}),t(n,{label:"新密码",prop:"newpassword"},{default:p((()=>[t(d,{modelValue:b.value.newpassword,"onUpdate:modelValue":l[1]||(l[1]=e=>b.value.newpassword=e),type:"password",placeholder:"请输入原密码"},null,8,["modelValue"])])),_:1}),t(n,{label:"确认新密码",prop:"checkpassword"},{default:p((()=>[t(d,{modelValue:b.value.checkpassword,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value.checkpassword=e),type:"password",placeholder:"请输入原密码"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})])),_:1}),t(y,null,{default:p((()=>[t(v,{type:"primary",size:"large",onClick:_},{default:p((()=>[g])),_:1})])),_:1})])}}});"function"==typeof l&&l(v);export{v as default};

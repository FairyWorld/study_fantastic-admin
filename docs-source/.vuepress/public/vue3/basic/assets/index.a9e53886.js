
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{k as e,l as s,u as r,a,b as o,h as i,j as t}from"./index.d5f01412.js";import{i as n,f as l,k as u,m as p,g as m,e as d,r as c,an as b,u as f,s as v,t as g,O as w,v as y,V as h}from"./vendor.9748e354.js";const _=n({name:"AuthAll"}),k=Object.assign(_,{props:{value:{type:Array,default:()=>[]}},setup(s){const r=s;return(s,a)=>(l(),u("div",null,[e(r.value)?p(s.$slots,"default",{key:0}):p(s.$slots,"no-auth",{key:1})]))}}),$=n({name:"Auth"}),x=Object.assign($,{props:{value:{type:[String,Array],default:""}},setup(e){const r=e;return(e,a)=>(l(),u("div",null,[s(r.value)?p(e.$slots,"default",{key:0}):p(e.$slots,"no-auth",{key:1})]))}}),j={key:0},A={key:1},C=v("h3",null,"切换帐号",-1),V=v("h3",null,"帐号权限",-1),O=v("h3",null,"鉴权组件（请对照代码查看）",-1),P=y("你有 permission.browse 权限"),S=y("你没有 permission.browse 权限"),T=y("你有 permission.create 权限"),U=y("你没有 permission.create 权限"),q=y("你有 permission.browse 或 permission.create 权限"),z=y("你没有 permission.browse 或 permission.create 权限"),B=y("你有 permission.browse 和 permission.create 权限"),D=y("你没有 permission.browse 和 permission.create 权限"),E=v("h3",null,"鉴权指令（请对照代码查看）",-1),F=[y(" 如果你有 permission.browse 权限则能看到这句话 ")],G=[y(" 如果你有 permission.create 权限则能看到这句话 ")],H=[y(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],I=[y(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],J=v("h3",null,"鉴权函数（请对照代码查看）",-1),K=y("校验 permission.browse 权限"),L=y("校验 permission.create 权限"),M=y("校验 permission.browse 或 permission.create 权限"),N=y("校验 permission.browse 和 permission.create 权限"),Q={setup(e){const{proxy:s}=h(),o=r(),n=a();function p(e){s.$loading({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),n.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function y(e){s.$auth(e)?s.$message.success("校验通过"):s.$message.error("校验不通过")}return(e,r)=>{const a=t,h=c("el-radio-button"),_=c("el-radio-group"),$=c("el-tag"),Q=x,R=k,W=c("el-button"),X=c("el-button-group"),Y=i,Z=b("auth"),ee=b("auth-all");return l(),u("div",null,[m(a,{title:"权限验证"}),m(Y,null,{default:d((()=>[f(o).app.enablePermission?(l(),u("div",A,[C,m(_,{modelValue:f(n).account,"onUpdate:modelValue":r[0]||(r[0]=e=>f(n).account=e),onChange:p},{default:d((()=>[m(h,{label:"admin"}),m(h,{label:"test"})])),_:1},8,["modelValue"]),V,v("div",null,g(f(n).permissions),1),O,v("div",null,[m(Q,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":d((()=>[m($,{type:"danger"},{default:d((()=>[S])),_:1})])),default:d((()=>[m($,null,{default:d((()=>[P])),_:1})])),_:1}),m(Q,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":d((()=>[m($,{type:"danger"},{default:d((()=>[U])),_:1})])),default:d((()=>[m($,null,{default:d((()=>[T])),_:1})])),_:1}),m(Q,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":d((()=>[m($,{type:"danger"},{default:d((()=>[z])),_:1})])),default:d((()=>[m($,null,{default:d((()=>[q])),_:1})])),_:1},8,["value"]),m(R,{value:["permission.browse","permission.create"]},{"no-auth":d((()=>[m($,{type:"danger"},{default:d((()=>[D])),_:1})])),default:d((()=>[m($,null,{default:d((()=>[B])),_:1})])),_:1},8,["value"])]),E,v("div",null,[w((l(),u("div",null,F)),[[Z,"permission.browse"]]),w((l(),u("div",null,G)),[[Z,"permission.create"]]),w((l(),u("div",null,H)),[[Z,["permission.browse","permission.create"]]]),w((l(),u("div",null,I)),[[ee,["permission.browse","permission.create"]]])]),J,v("div",null,[m(X,{style:{display:"block","margin-bottom":"10px"}},{default:d((()=>[m(W,{onClick:r[1]||(r[1]=e=>y("permission.browse"))},{default:d((()=>[K])),_:1}),m(W,{onClick:r[2]||(r[2]=e=>y("permission.create"))},{default:d((()=>[L])),_:1})])),_:1}),m(X,null,{default:d((()=>[m(W,{onClick:r[3]||(r[3]=e=>y(["permission.browse","permission.create"]))},{default:d((()=>[M])),_:1}),m(W,{onClick:r[4]||(r[4]=e=>{return r=["permission.browse","permission.create"],void(s.$authAll(r)?s.$message.success("校验通过"):s.$message.error("校验不通过"));var r})},{default:d((()=>[N])),_:1})])),_:1})])])):(l(),u("div",j,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};"function"==typeof o&&o(Q);export{Q as default};

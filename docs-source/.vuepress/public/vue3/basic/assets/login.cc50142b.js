
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as e}from"./index.a4433086.js";import{_ as a}from"./index.8e17ce0a.js";import{_ as l,d as o,u as t,a as s,r as n,o as r,c as u,b as d,w as i,v as c,e as p,f as m,g as f,h as g,i as v,j as w,p as x,k as y,l as _,m as b,n as h,q as V,t as k,s as C,x as q,y as z,z as P,A as U}from"./index.fc479745.js";const j=e=>(x("data-v-915ce182"),e=e(),y(),e),F=j((()=>d("div",{class:"bg-banner"},null,-1))),S={id:"login-box"},R=j((()=>d("div",{class:"login-banner"},null,-1))),$={class:"title-container"},I={class:"title"},K={class:"flex-bar"},A=z("记住我"),L=z("忘记密码"),O=z("登 录"),B={style:{"margin-top":"20px","margin-bottom":"-10px",color:"#666","font-size":"14px","text-align":"center","font-weight":"bold"}},D=j((()=>d("span",{style:{"margin-right":"5px"}},"演示帐号一键登录：",-1))),E=z("admin"),G=z("test"),H=j((()=>d("div",{class:"title-container"},[d("h3",{class:"title"},"重置密码")],-1))),J=z("发送验证码"),M=z("去登录"),N=z("确 认"),Q=o({name:"Login"}),T=Object.assign(Q,{setup(l){const{proxy:o}=U(),w=_(),x=b(),y=t(),z=s(),j=n("login"),Q=n({account:localStorage.login_account||"",password:"",remember:!!localStorage.login_account}),T=n({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),W=n({account:localStorage.login_account||"",captcha:"",newPassword:""}),X=n({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),Y=n(!1),Z=n("password"),ee=n(null);function ae(){Z.value="password"===Z.value?"":"password",P((()=>{o.$refs.password.focus()}))}function le(){o.$refs.loginFormRef.validate((e=>{e&&(Y.value=!0,z.login(Q.value).then((()=>{Y.value=!1,Q.value.remember?localStorage.setItem("login_account",Q.value.account):localStorage.removeItem("login_account"),x.push(ee.value)})).catch((()=>{Y.value=!1})))}))}function oe(){o.$message({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),o.$refs.resetFormRef.validate((e=>{}))}function te(e){Q.value.account=e,Q.value.password="123456",le()}return r((()=>{var e;ee.value=null!=(e=w.query.redirect)?e:"/"})),(l,o)=>{const t=a,s=h("el-input"),n=h("el-form-item"),r=h("el-checkbox"),w=h("el-button"),x=h("el-form"),_=h("el-col"),b=h("el-row"),z=e;return V(),u("div",null,[F,d("div",S,[R,i(p(x,{ref:"loginFormRef",model:Q.value,rules:T.value,class:"login-form",autocomplete:"on","label-position":"left"},{default:m((()=>[d("div",$,[d("h3",I,k(f("Fantastic-admin 基础版"))+"管理后台",1)]),d("div",null,[p(n,{prop:"account"},{default:m((()=>[p(s,{ref:"name",modelValue:Q.value.account,"onUpdate:modelValue":o[0]||(o[0]=e=>Q.value.account=e),placeholder:"用户名",type:"text",tabindex:"1",autocomplete:"on"},{prefix:m((()=>[p(t,{name:"user"})])),_:1},8,["modelValue"])])),_:1}),p(n,{prop:"password"},{default:m((()=>[p(s,{ref:"password",modelValue:Q.value.password,"onUpdate:modelValue":o[1]||(o[1]=e=>Q.value.password=e),type:Z.value,placeholder:"密码",tabindex:"2",autocomplete:"on",onKeyup:C(le,["enter"])},{prefix:m((()=>[p(t,{name:"password"})])),suffix:m((()=>[p(t,{name:"password"===Z.value?"eye":"eye-open",onClick:ae},null,8,["name"])])),_:1},8,["modelValue","type","onKeyup"])])),_:1})]),d("div",K,[p(r,{modelValue:Q.value.remember,"onUpdate:modelValue":o[2]||(o[2]=e=>Q.value.remember=e)},{default:m((()=>[A])),_:1},8,["modelValue"]),p(w,{type:"text",onClick:o[3]||(o[3]=e=>j.value="reset")},{default:m((()=>[L])),_:1})]),p(w,{loading:Y.value,type:"primary",size:"large",style:{width:"100%"},onClick:q(le,["prevent"])},{default:m((()=>[O])),_:1},8,["loading","onClick"]),d("div",B,[D,p(w,{type:"danger",size:"small",onClick:o[4]||(o[4]=e=>te("admin"))},{default:m((()=>[E])),_:1}),p(w,{type:"danger",size:"small",plain:"",onClick:o[5]||(o[5]=e=>te("test"))},{default:m((()=>[G])),_:1})])])),_:1},8,["model","rules"]),[[c,"login"==j.value]]),i(p(x,{ref:"resetFormRef",model:W.value,rules:X.value,class:"login-form","auto-complete":"on","label-position":"left"},{default:m((()=>[H,d("div",null,[p(n,{prop:"account"},{default:m((()=>[p(s,{ref:"name",modelValue:W.value.account,"onUpdate:modelValue":o[6]||(o[6]=e=>W.value.account=e),placeholder:"用户名",type:"text",tabindex:"1",autocomplete:"on"},{prefix:m((()=>[p(t,{name:"user"})])),_:1},8,["modelValue"])])),_:1}),p(n,{prop:"captcha"},{default:m((()=>[p(s,{ref:"captcha",modelValue:W.value.captcha,"onUpdate:modelValue":o[7]||(o[7]=e=>W.value.captcha=e),placeholder:"验证码",type:"text",tabindex:"2",autocomplete:"on"},{prefix:m((()=>[p(t,{name:"captcha"})])),append:m((()=>[p(w,null,{default:m((()=>[J])),_:1})])),_:1},8,["modelValue"])])),_:1}),p(n,{prop:"newPassword"},{default:m((()=>[p(s,{ref:"newPassword",modelValue:W.value.newPassword,"onUpdate:modelValue":o[8]||(o[8]=e=>W.value.newPassword=e),type:Z.value,placeholder:"新密码",tabindex:"3",autocomplete:"on"},{prefix:m((()=>[p(t,{name:"password"})])),suffix:m((()=>[p(t,{name:"password"===Z.value?"eye":"eye-open",onClick:ae},null,8,["name"])])),_:1},8,["modelValue","type"])])),_:1})]),p(b,{gutter:15,style:{"padding-top":"20px"}},{default:m((()=>[p(_,{md:6},{default:m((()=>[p(w,{size:"large",style:{width:"100%"},onClick:o[9]||(o[9]=e=>j.value="login")},{default:m((()=>[M])),_:1})])),_:1}),p(_,{md:18},{default:m((()=>[p(w,{loading:Y.value,type:"primary",size:"large",style:{width:"100%"},onClick:q(oe,["prevent"])},{default:m((()=>[N])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model","rules"]),[[c,"reset"==j.value]])]),f(y).copyright.enable?(V(),g(z,{key:0})):v("v-if",!0)])}}});"function"==typeof w&&w(T);var W=l(T,[["__scopeId","data-v-915ce182"]]);export{W as default};

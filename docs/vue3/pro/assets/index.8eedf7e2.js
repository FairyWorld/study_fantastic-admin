
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{d as e,q as s,c as a,aB as o,I as r,aC as i,u as t,a as n,b as l,w as u,j as p,n as m,ac as d,af as c,g as b,e as f,t as g,f as v,z as w,ad as y,C as _}from"./index.80ead521.js";const h=e({name:"AuthAll"}),k=Object.assign(h,{props:{value:{type:Array,default:()=>[]}},setup(e){const i=e;return(e,t)=>(s(),a("div",null,[o(i.value)?r(e.$slots,"default",{key:0}):r(e.$slots,"no-auth",{key:1})]))}}),$=e({name:"Auth"}),x=Object.assign($,{props:{value:{type:[String,Array],default:""}},setup(e){const o=e;return(e,t)=>(s(),a("div",null,[i(o.value)?r(e.$slots,"default",{key:0}):r(e.$slots,"no-auth",{key:1})]))}}),C={key:0},A={key:1},j=f("h3",null,"切换帐号",-1),V=f("h3",null,"帐号权限",-1),O=f("h3",null,"鉴权组件（请对照代码查看）",-1),q=w("你有 permission.browse 权限"),z=w("你没有 permission.browse 权限"),B=w("你有 permission.create 权限"),I=w("你没有 permission.create 权限"),P=w("你有 permission.browse 或 permission.create 权限"),S=w("你没有 permission.browse 或 permission.create 权限"),T=w("你有 permission.browse 和 permission.create 权限"),U=w("你没有 permission.browse 和 permission.create 权限"),D=f("h3",null,"鉴权指令（请对照代码查看）",-1),E=[w(" 如果你有 permission.browse 权限则能看到这句话 ")],F=[w(" 如果你有 permission.create 权限则能看到这句话 ")],G=[w(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],H=[w(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],J=f("h3",null,"鉴权函数（请对照代码查看）",-1),K=w("校验 permission.browse 权限"),L=w("校验 permission.create 权限"),M=w("校验 permission.browse 或 permission.create 权限"),N=w("校验 permission.browse 和 permission.create 权限"),Q={setup(e){const{proxy:o}=_(),r=t(),i=n();function p(e){o.$loading({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),i.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function w(e){o.$auth(e)?o.$message.success("校验通过"):o.$message.error("校验不通过")}return(e,t)=>{const n=y,_=m("el-radio-button"),h=m("el-radio-group"),$=m("el-tag"),Q=x,R=k,W=m("el-button"),X=m("el-button-group"),Y=d,Z=c("auth"),ee=c("auth-all");return s(),a("div",null,[l(n,{title:"权限验证"}),l(Y,null,{default:u((()=>[b(r).app.enablePermission?(s(),a("div",A,[j,l(h,{modelValue:b(i).account,"onUpdate:modelValue":t[0]||(t[0]=e=>b(i).account=e),onChange:p},{default:u((()=>[l(_,{label:"admin"}),l(_,{label:"test"})])),_:1},8,["modelValue"]),V,f("div",null,g(b(i).permissions),1),O,f("div",null,[l(Q,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l($,{type:"danger"},{default:u((()=>[z])),_:1})])),default:u((()=>[l($,null,{default:u((()=>[q])),_:1})])),_:1}),l(Q,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l($,{type:"danger"},{default:u((()=>[I])),_:1})])),default:u((()=>[l($,null,{default:u((()=>[B])),_:1})])),_:1}),l(Q,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l($,{type:"danger"},{default:u((()=>[S])),_:1})])),default:u((()=>[l($,null,{default:u((()=>[P])),_:1})])),_:1},8,["value"]),l(R,{value:["permission.browse","permission.create"]},{"no-auth":u((()=>[l($,{type:"danger"},{default:u((()=>[U])),_:1})])),default:u((()=>[l($,null,{default:u((()=>[T])),_:1})])),_:1},8,["value"])]),D,f("div",null,[v((s(),a("div",null,E)),[[Z,"permission.browse"]]),v((s(),a("div",null,F)),[[Z,"permission.create"]]),v((s(),a("div",null,G)),[[Z,["permission.browse","permission.create"]]]),v((s(),a("div",null,H)),[[ee,["permission.browse","permission.create"]]])]),J,f("div",null,[l(X,{style:{display:"block","margin-bottom":"10px"}},{default:u((()=>[l(W,{onClick:t[1]||(t[1]=e=>w("permission.browse"))},{default:u((()=>[K])),_:1}),l(W,{onClick:t[2]||(t[2]=e=>w("permission.create"))},{default:u((()=>[L])),_:1})])),_:1}),l(X,null,{default:u((()=>[l(W,{onClick:t[3]||(t[3]=e=>w(["permission.browse","permission.create"]))},{default:u((()=>[M])),_:1}),l(W,{onClick:t[4]||(t[4]=e=>{return s=["permission.browse","permission.create"],void(o.$authAll(s)?o.$message.success("校验通过"):o.$message.error("校验不通过"));var s})},{default:u((()=>[N])),_:1})])),_:1})])])):(s(),a("div",C,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};"function"==typeof p&&p(Q);export{Q as default};

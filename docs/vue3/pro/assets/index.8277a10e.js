
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as e,r as l,D as a,at as t,n as i,q as d,c as n,f as o,v as s,h as u,w as r,b as p,i as c,H as f,G as y,z as m,t as _,e as v,g as b,p as k,k as h,C as g}from"./index.87af0725.js";const w=e=>(k("data-v-78f6547a"),e=e(),h(),e),V={key:0},x=m("编 辑"),L={key:0},C={key:0},U={key:0},z={key:0},$=m("删 除"),R=w((()=>v("span",null,null,-1))),j={key:0,style:{padding:"10px"}},q=m("新增一条运费模版"),A=m("为指定地区设置运费模版"),B={class:"filter"},D=m("全部"),G=m("华北地区"),H=m("东北地区"),I=m("华东地区"),N=m("华中地区"),O=m("华南地区"),E=m("西南地区"),F=m("西北地区"),J=m("自治区"),K=m("直辖市"),M=m("确 定");var P=e({props:{readonly:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},type:{type:Number,default:1}},emits:["update:data"],setup(e,{emit:k}){const h=e,{proxy:w}=g(),P=l({index:"",visible:!1,filter:"",checkList:[],disableList:[]}),Q=a((()=>{let e;switch(P.value.filter){case"":e=t;break;case"autonomousRegion":e=t.filter((e=>e.autonomousRegion));break;case"provinceLevelCity":e=t.filter((e=>e.provinceLevelCity));break;default:e=t.filter((e=>e.region==P.value.filter))}return e}));function S(){P.value.index="",P.value.checkList=[],P.value.disableList=W(),P.value.visible=!0}function T(e){let l="";for(const a in t)t[a].code===e&&(l=t[a].name);return l}function W(e){let l=[];for(let a=0;a<h.data.length;a++)e!==a&&(l=l.concat(h.data[a].list));return l}return(l,a)=>{const t=i("el-tag"),g=i("el-col"),X=i("el-button"),Y=i("el-row"),Z=i("el-table-column"),ee=i("el-input"),le=i("el-table"),ae=i("el-radio-button"),te=i("el-radio-group"),ie=i("el-checkbox"),de=i("el-checkbox-group"),ne=i("el-dialog");return d(),n("div",null,[e.readonly&&0==e.data.length?c("v-if",!0):o((d(),u(le,{key:0,data:e.data,border:"",class:"freight"},{empty:r((()=>[R])),append:r((()=>[e.readonly?c("v-if",!0):(d(),n("div",j,[p(X,{type:"primary",size:"small",plain:"",style:{width:"100%"},onClick:S},{default:r((()=>[q])),_:1})]))])),default:r((()=>[p(Z,{label:"运送到"},{default:r((l=>[e.readonly?(d(),n("div",V,[(d(!0),n(f,null,y(l.row.list,((e,l)=>(d(),u(t,{key:l,type:"info"},{default:r((()=>[m(_(T(e)),1)])),_:2},1024)))),128))])):(d(),u(Y,{key:1,type:"flex",align:"middle",justify:"space-between"},{default:r((()=>[p(g,null,{default:r((()=>[(d(!0),n(f,null,y(l.row.list,((e,a)=>(d(),u(t,{key:a,"disable-transitions":!0,type:"info",closable:"",onClose:a=>function(e,l){let a=h.data;a[e].list.splice(a[e].list.indexOf(l),1),0===a[e].list.length&&a.splice(e,1),k("update:data",a)}(l.$index,e)},{default:r((()=>[m(_(T(e)),1)])),_:2},1032,["onClose"])))),128))])),_:2},1024),p(g,{style:{width:"100px","text-align":"right"}},{default:r((()=>[p(X,{size:"small",plain:"",onClick:e=>{return a=l.$index,P.value.index=a,P.value.checkList=h.data[a].list,P.value.disableList=W(a),void(P.value.visible=!0);var a}},{default:r((()=>[x])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024))])),_:1}),p(Z,{label:1==e.type?"首件数（件）":"首重量（kg）",width:"150",align:"center"},{default:r((l=>[e.readonly?(d(),n("span",L,_(l.row.first_step),1)):(d(),u(ee,{key:1,modelValue:l.row.first_step,"onUpdate:modelValue":e=>l.row.first_step=e,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),p(Z,{label:"首费（元）",width:"150",align:"center"},{default:r((l=>[e.readonly?(d(),n("span",C,_(l.row.first_price),1)):(d(),u(ee,{key:1,modelValue:l.row.first_price,"onUpdate:modelValue":e=>l.row.first_price=e,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),p(Z,{label:1==e.type?"续件数（件）":"续重量（kg）",width:"150",align:"center"},{default:r((l=>[e.readonly?(d(),n("span",U,_(l.row.continued_step),1)):(d(),u(ee,{key:1,modelValue:l.row.continued_step,"onUpdate:modelValue":e=>l.row.continued_step=e,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),p(Z,{label:"续费（元）",width:"150",align:"center"},{default:r((l=>[e.readonly?(d(),n("span",z,_(l.row.continued_price),1)):(d(),u(ee,{key:1,modelValue:l.row.continued_price,"onUpdate:modelValue":e=>l.row.continued_price=e,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),e.readonly?c("v-if",!0):(d(),u(Z,{key:0,label:"操作",width:"100",align:"center"},{default:r((e=>[p(X,{type:"danger",size:"small",plain:"",onClick:l=>function(e){let l=h.data;l.splice(e,1),k("update:data",l)}(e.$index)},{default:r((()=>[$])),_:2},1032,["onClick"])])),_:1}))])),_:1},8,["data"])),[[s,0!=e.data.length]]),e.readonly?c("v-if",!0):o((d(),u(X,{key:1,type:"primary",size:"default",plain:"",onClick:S},{default:r((()=>[A])),_:1},512)),[[s,0==e.data.length]]),p(ne,{modelValue:P.value.visible,"onUpdate:modelValue":a[3]||(a[3]=e=>P.value.visible=e),title:"选择地区",width:"800px","custom-class":"freight-dialog","append-to-body":"",onClosed:a[4]||(a[4]=e=>P.value.filter="")},{footer:r((()=>[p(X,{type:"primary",onClick:a[2]||(a[2]=e=>function(e){if(0===P.value.checkList.length)w.$message({message:"请勾选区域",type:"warning"});else{let l=h.data;""!==e?l[e].list=P.value.checkList:l.push({list:P.value.checkList,first_step:"",first_price:"",continued_step:"",continued_price:""}),k("update:data",l),P.value.visible=!1}}(P.value.index))},{default:r((()=>[M])),_:1})])),default:r((()=>[v("div",B,[p(te,{modelValue:P.value.filter,"onUpdate:modelValue":a[0]||(a[0]=e=>P.value.filter=e),size:"small"},{default:r((()=>[p(ae,{label:""},{default:r((()=>[D])),_:1}),p(ae,{label:"north"},{default:r((()=>[G])),_:1}),p(ae,{label:"northeast"},{default:r((()=>[H])),_:1}),p(ae,{label:"east"},{default:r((()=>[I])),_:1}),p(ae,{label:"central"},{default:r((()=>[N])),_:1}),p(ae,{label:"south"},{default:r((()=>[O])),_:1}),p(ae,{label:"southwest"},{default:r((()=>[E])),_:1}),p(ae,{label:"northwest"},{default:r((()=>[F])),_:1}),p(ae,{label:"autonomousRegion"},{default:r((()=>[J])),_:1}),p(ae,{label:"provinceLevelCity"},{default:r((()=>[K])),_:1})])),_:1},8,["modelValue"])]),p(de,{modelValue:P.value.checkList,"onUpdate:modelValue":a[1]||(a[1]=e=>P.value.checkList=e),style:{"margin-left":"50px"}},{default:r((()=>[p(Y,null,{default:r((()=>[(d(!0),n(f,null,y(b(Q),((e,l)=>(d(),u(g,{key:l,span:6},{default:r((()=>[p(ie,{label:e.code,disabled:P.value.disableList.includes(e.code)},{default:r((()=>[m(_(e.name),1)])),_:2},1032,["label","disabled"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-78f6547a"]]);export{P as default};

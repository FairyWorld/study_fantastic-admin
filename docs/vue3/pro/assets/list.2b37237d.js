
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as oe,m as te,n as ne,b as le}from"./index.62acde6f.js";import{_ as se}from"./index.c2c1d544.js";import{_ as re}from"./index.85edf3ae.js";import{g as ie,r as ue,L as de,ai as me,h as ce,q as o,w as t,A as _,j as y,O as _e,a2 as pe,l as s,aB as fe,o as d,a3 as x,a0 as z,a1 as ge,u as h,y as r}from"./vendor.ee7254f0.js";import{u as ve}from"./usePagination.3ccba83a.js";import he from"./index.42a2f57b.js";import"./index.22e7e8aa.js";var L={};const be=r("\u65B0\u589E\u7BA1\u7406\u5458"),we=r("\u5168\u90E8"),Ce=r("\u7537"),$e=r("\u5973"),ye=r("\u4FDD\u5BC6"),xe=r("\u7B5B \u9009"),Me=r("\u6279\u91CF\u64CD\u4F5C"),ke=r("\u7537"),Ve=r("\u5973"),ze=r("\u4FDD\u5BC6"),Le=r("\u7F16\u8F91"),Pe=r(" \u66F4\u591A\u64CD\u4F5C "),Ue=r("\u91CD\u7F6E\u5BC6\u7801"),Se=r("\u5220\u9664"),Be=ie({name:"PagesExampleManagerList"}),P=Object.assign(Be,{setup(De){const{pagination:p,getParams:U,onSizeChange:S,onCurrentChange:B,onSortChange:D}=ve(),{proxy:i}=_e(),M=pe(),a=ue({loading:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{account:"",name:"",mobile:"",sex:""},searchMore:!1,batch:{enable:!0,selectionDataList:[]},dataList:[]});de(()=>{m(),a.value.formMode==="router"&&i.$eventBus.on("get-data-list",()=>{m()})}),me(()=>{a.value.formMode==="router"&&i.$eventBus.off("get-data-list")});function m(){a.value.loading=!0;let l=U();a.value.search.account&&(l.account=a.value.search.account),a.value.search.name&&(l.name=a.value.search.name),a.value.search.mobile&&(l.mobile=a.value.search.mobile),a.value.search.sex!=""&&(l.sex=a.value.search.sex),i.$api.get("pages_example/manager/list",{baseURL:"/mock/",params:l}).then(e=>{a.value.loading=!1,a.value.dataList=e.data.list,p.value.total=e.data.total})}function E(l){S(l).then(()=>m())}function u(l=1){B(l).then(()=>m())}function R(l,e){D(l,e).then(()=>m())}function K(){a.value.formMode==="router"?M.push({name:"pagesExampleGeneralManagerCreate"}):(a.value.formModeProps.id="",a.value.formModeProps.visible=!0)}function N(l){a.value.formMode==="router"?M.push({name:"pagesExampleGeneralManagerEdit",params:{id:l.id}}):(a.value.formModeProps.id=l.id,a.value.formModeProps.visible=!0)}function A(l,e){i.$confirm(`\u786E\u8BA4${l?"\u542F\u7528":"\u505C\u7528"}\u300C${e.account}\u300D\u5417\uFF1F`,"\u786E\u8BA4\u4FE1\u606F").then(()=>{i.$api.post("pages_example/manager/change/status",{id:e.id,status:l},{baseURL:"/mock/"}).then(()=>{i.$message.success({message:`\u6A21\u62DF${l?"\u542F\u7528":"\u505C\u7528"}\u6210\u529F`,center:!0})})}).catch(()=>{e.status=!l})}function O(l){i.$confirm(`\u786E\u8BA4\u5C06\u300C${l.account}\u300D\u7684\u5BC6\u7801\u91CD\u7F6E\u4E3A \u201C123456\u201D \u5417\uFF1F`,"\u786E\u8BA4\u4FE1\u606F").then(()=>{i.$api.post("pages_example/manager/password/reset",{id:l.id},{baseURL:"/mock/"}).then(()=>{i.$message.success({message:"\u6A21\u62DF\u91CD\u7F6E\u6210\u529F",center:!0})})}).catch(()=>{})}function j(l){i.$confirm(`\u786E\u8BA4\u5220\u9664\u300C${l.account}\u300D\u7BA1\u7406\u5458\u5417\uFF1F`,"\u786E\u8BA4\u4FE1\u606F").then(()=>{i.$api.post("pages_example/manager/delete",{id:l.id},{baseURL:"/mock/"}).then(()=>{m(),i.$message.success({message:"\u6A21\u62DF\u5220\u9664\u6210\u529F",center:!0})})}).catch(()=>{})}function G(l,e){switch(l){case"resetPassword":O(e);break;case"delete":j(e);break}}return(l,e)=>{const I=ne,g=s("el-button"),C=s("el-input"),v=s("el-form-item"),b=s("el-col"),k=s("el-row"),w=s("el-radio-button"),T=s("el-radio-group"),q=s("el-form"),F=re,H=se,c=s("el-table-column"),$=s("el-tag"),J=s("el-switch"),Q=le,V=s("el-dropdown-item"),W=s("el-dropdown-menu"),X=s("el-dropdown"),Y=s("el-table"),Z=s("el-pagination"),ee=te,ae=fe("loading");return d(),ce("div",null,[o(I,{title:"\u7BA1\u7406\u5458\u7BA1\u7406",content:"\u9875\u9762\u6570\u636E\u4E3A Mock \u793A\u4F8B\u6570\u636E\uFF0C\u975E\u771F\u5B9E\u6570\u636E\u3002"}),o(ee,null,{default:t(()=>[o(g,{type:"primary",size:"large",icon:"el-icon-plus",onClick:K},{default:t(()=>[be]),_:1}),o(F,{"show-more":"",onToggle:e[12]||(e[12]=n=>a.value.searchMore=n)},{default:t(()=>[o(q,{model:a.value.search,size:"default","label-width":"100px","label-suffix":"\uFF1A"},{default:t(()=>[o(k,null,{default:t(()=>[o(b,{md:8},{default:t(()=>[o(v,{label:"\u5E10\u53F7"},{default:t(()=>[o(C,{modelValue:a.value.search.account,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value.search.account=n),placeholder:"\u8BF7\u8F93\u5165\u5E10\u53F7\uFF0C\u652F\u6301\u6A21\u7CCA\u67E5\u8BE2",clearable:"",onKeydown:e[1]||(e[1]=x(n=>u(),["enter"])),onClear:e[2]||(e[2]=n=>u())},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{md:8},{default:t(()=>[o(v,{label:"\u59D3\u540D"},{default:t(()=>[o(C,{modelValue:a.value.search.name,"onUpdate:modelValue":e[3]||(e[3]=n=>a.value.search.name=n),placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D\uFF0C\u652F\u6301\u6A21\u7CCA\u67E5\u8BE2",clearable:"",onKeydown:e[4]||(e[4]=x(n=>u(),["enter"])),onClear:e[5]||(e[5]=n=>u())},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{md:8},{default:t(()=>[o(v,{label:"\u624B\u673A\u53F7"},{default:t(()=>[o(C,{modelValue:a.value.search.mobile,"onUpdate:modelValue":e[6]||(e[6]=n=>a.value.search.mobile=n),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",clearable:"",onKeydown:e[7]||(e[7]=x(n=>u(),["enter"])),onClear:e[8]||(e[8]=n=>u())},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),z(o(k,null,{default:t(()=>[o(b,{md:8},{default:t(()=>[o(v,{label:"\u6027\u522B"},{default:t(()=>[o(T,{modelValue:a.value.search.sex,"onUpdate:modelValue":e[9]||(e[9]=n=>a.value.search.sex=n),onChange:e[10]||(e[10]=n=>u())},{default:t(()=>[o(w,{label:""},{default:t(()=>[we]),_:1}),o(w,{label:"1"},{default:t(()=>[Ce]),_:1}),o(w,{label:"0"},{default:t(()=>[$e]),_:1}),o(w,{label:"2"},{default:t(()=>[ye]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},512),[[ge,a.value.searchMore]]),o(v,null,{default:t(()=>[o(g,{type:"primary",icon:"el-icon-search",onClick:e[11]||(e[11]=n=>u())},{default:t(()=>[xe]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a.value.batch.enable?(d(),_(H,{key:0,data:a.value.dataList,"selection-data":a.value.batch.selectionDataList,onCheckAll:e[13]||(e[13]=n=>l.$refs.table.toggleAllSelection()),onCheckNull:e[14]||(e[14]=n=>l.$refs.table.clearSelection())},{default:t(()=>[o(g,{size:"default"},{default:t(()=>[Me]),_:1})]),_:1},8,["data","selection-data"])):y("v-if",!0),z((d(),_(Y,{ref:"table",class:"list-table",data:a.value.dataList,border:"",stripe:"","highlight-current-row":"",onSortChange:R,onSelectionChange:e[15]||(e[15]=n=>a.value.batch.selectionDataList=n)},{default:t(()=>[a.value.batch.enable?(d(),_(c,{key:0,type:"selection",align:"center",fixed:""})):y("v-if",!0),o(c,{prop:"account",sortable:"",label:"\u5E10\u53F7"}),o(c,{prop:"name",label:"\u59D3\u540D",width:"100",align:"center"}),o(c,{prop:"sex",label:"\u6027\u522B",width:"100",align:"center"},{default:t(n=>[n.row.sex==1?(d(),_($,{key:0,type:"success",size:"small"},{default:t(()=>[ke]),_:1})):n.row.sex==0?(d(),_($,{key:1,type:"warning",size:"small"},{default:t(()=>[Ve]),_:1})):(d(),_($,{key:2,type:"info",size:"small"},{default:t(()=>[ze]),_:1}))]),_:1}),o(c,{prop:"mobile",label:"\u624B\u673A\u53F7",width:"150",align:"center"}),o(c,{label:"\u72B6\u6001",width:"100",align:"center"},{default:t(n=>[o(J,{modelValue:n.row.status,"onUpdate:modelValue":f=>n.row.status=f,onChange:f=>A(f,n.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),o(c,{label:"\u64CD\u4F5C",width:"200",align:"center",fixed:"right"},{default:t(n=>[o(g,{type:"primary",size:"small",plain:"",onClick:f=>N(n.row)},{default:t(()=>[Le]),_:2},1032,["onClick"]),o(X,{onCommand:f=>G(f,n.row)},{dropdown:t(()=>[o(W,null,{default:t(()=>[o(V,{command:"resetPassword"},{default:t(()=>[Ue]),_:1}),o(V,{command:"delete",divided:""},{default:t(()=>[Se]),_:1})]),_:1})]),default:t(()=>[o(g,{size:"small"},{default:t(()=>[Pe,o(Q,{name:"el-icon-arrow-down",class:"el-icon--right"})]),_:1})]),_:2},1032,["onCommand"])]),_:1})]),_:1},8,["data"])),[[ae,a.value.loading]]),o(Z,{"current-page":h(p).page,total:h(p).total,"page-size":h(p).size,"page-sizes":h(p).sizes,layout:h(p).layout,"hide-on-single-page":!1,class:"pagination",background:"",onCurrentChange:u,onSizeChange:E},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),["dialog","drawer"].includes(a.value.formMode)?(d(),_(he,{key:0,id:a.value.formModeProps.id,modelValue:a.value.formModeProps.visible,"onUpdate:modelValue":e[16]||(e[16]=n=>a.value.formModeProps.visible=n),mode:a.value.formMode,onSuccess:m},null,8,["id","modelValue","mode"])):y("v-if",!0)])}}});typeof L=="function"&&L(P);var Ge=oe(P,[["__scopeId","data-v-7a695026"]]);export{Ge as default};

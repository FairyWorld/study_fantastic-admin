
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as J}from"./index.17ce1e91.js";import{c as U,d as j,_ as G,u as Q,e as X,f as Y,i as Z,b as ee}from"./index.62acde6f.js";import{K as W,g as te,z as ae,L as re,h as oe,i as h,q as l,s as T,u as _,x as ne,a0 as ie,a1 as me,w as F,A,j as se,O as le,M as _e,a2 as we,N as $,l as K,o as E,a7 as de,B as pe,a8 as ue}from"./vendor.ee7254f0.js";import ce from"./index.e1bf1696.js";import ke from"./index.36378c44.js";import he from"./index.41ca23c2.js";import fe from"./index.478edeef.js";import ge from"./index.58310523.js";import ye from"./index.e7c7b175.js";import ve from"./index.8b208e72.js";import"./index.736b43c3.js";import"./logo.96f1da49.js";import"./index.859e882b.js";import"./index.7409b7ba.js";import"./index.265cc193.js";import"./index.f5e20eac.js";import"./index.28e7ab96.js";import"./index.704d8ea9.js";var M={},R=!1,e={watermark_id:"wm_div_id",watermark_prefix:"mask_div_id",watermark_txt:"\u6D4B\u8BD5\u6C34\u5370",watermark_x:20,watermark_y:20,watermark_rows:0,watermark_cols:0,watermark_x_space:50,watermark_y_space:50,watermark_font:"\u5FAE\u8F6F\u96C5\u9ED1",watermark_color:"black",watermark_fontsize:"18px",watermark_alpha:.15,watermark_width:100,watermark_height:100,watermark_angle:15,watermark_parent_width:0,watermark_parent_height:0,watermark_parent_node:null,monitor:!0};const V=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var be=function(a){if(R){R=!1;return}(g&&a.length===1||a.length===1&&a[0].removedNodes.length>=1)&&f(g)},q=V!==void 0,P=q?new V(be):null,D={childList:!0,attributes:!0,subtree:!0},f=function(a){if(arguments.length===1&&typeof arguments[0]=="object"){var n=arguments[0]||{};for(let c in n)n[c]&&e[c]&&n[c]===e[c]||(n[c]||n[c]===0)&&(e[c]=n[c])}var m=document.getElementById(e.watermark_id);m&&m.parentNode&&m.parentNode.removeChild(m);var o=document.getElementById(e.watermark_parent_node),t=o||document.body,w=Math.max(t.scrollWidth,t.clientWidth),d=Math.max(t.scrollHeight,t.clientHeight),S=arguments[0]||{},p=t,k=0,s=0;S.watermark_parent_width||S.watermark_parent_height?p&&(k=p.offsetTop||0,s=p.offsetLeft||0,e.watermark_x=e.watermark_x+s,e.watermark_y=e.watermark_y+k):p&&(k=p.offsetTop||0,s=p.offsetLeft||0);var i=document.getElementById(e.watermark_id),y=null;if(i)i.shadowRoot&&(y=i.shadowRoot);else{i=document.createElement("div"),i.id=e.watermark_id,i.setAttribute("style","pointer-events: none !important; display: block !important"),typeof i.attachShadow=="function"?y=i.attachShadow({mode:"open"}):y=i;var v=t.children,C=Math.floor(Math.random()*(v.length-1));v[C]?t.insertBefore(i,v[C]):t.appendChild(i)}e.watermark_cols=parseInt((w-e.watermark_x)/(e.watermark_width+e.watermark_x_space));var I=parseInt((w-e.watermark_x-e.watermark_width*e.watermark_cols)/e.watermark_cols);e.watermark_x_space=I&&e.watermark_x_space;var u;e.watermark_rows=parseInt((d-e.watermark_y)/(e.watermark_height+e.watermark_y_space));var z=parseInt((d-e.watermark_y-e.watermark_height*e.watermark_rows)/e.watermark_rows);e.watermark_y_space=z&&e.watermark_y_space;var B;o?(u=e.watermark_x+e.watermark_width*e.watermark_cols+e.watermark_x_space*(e.watermark_cols-1),B=e.watermark_y+e.watermark_height*e.watermark_rows+e.watermark_y_space*(e.watermark_rows-1)):(u=s+e.watermark_x+e.watermark_width*e.watermark_cols+e.watermark_x_space*(e.watermark_cols-1),B=k+e.watermark_y+e.watermark_height*e.watermark_rows+e.watermark_y_space*(e.watermark_rows-1));for(var L,N,b=0;b<e.watermark_rows;b++){o?N=k+e.watermark_y+(d-B)/2+(e.watermark_y_space+e.watermark_height)*b:N=e.watermark_y+(d-B)/2+(e.watermark_y_space+e.watermark_height)*b;for(var x=0;x<e.watermark_cols;x++){o?L=s+e.watermark_x+(w-u)/2+(e.watermark_width+e.watermark_x_space)*x:L=e.watermark_x+(w-u)/2+(e.watermark_width+e.watermark_x_space)*x;var r=document.createElement("div"),H=document.createTextNode(e.watermark_txt);r.appendChild(H),r.id=e.watermark_prefix+b+x,r.style.webkitTransform="rotate(-"+e.watermark_angle+"deg)",r.style.MozTransform="rotate(-"+e.watermark_angle+"deg)",r.style.msTransform="rotate(-"+e.watermark_angle+"deg)",r.style.OTransform="rotate(-"+e.watermark_angle+"deg)",r.style.transform="rotate(-"+e.watermark_angle+"deg)",r.style.visibility="",r.style.position="absolute",r.style.left=L+"px",r.style.top=N+"px",r.style.overflow="hidden",r.style.zIndex="9999999",r.style.opacity=e.watermark_alpha,r.style.fontSize=e.watermark_fontsize,r.style.fontFamily=e.watermark_font,r.style.color=e.watermark_color,r.style.textAlign="center",r.style.width=e.watermark_width+"px",r.style.height=e.watermark_height+"px",r.style.display="block",r.style["-ms-user-select"]="none",y.appendChild(r)}}(a.monitor===void 0?e.monitor:a.monitor)&&q&&(P.observe(t,D),P.observe(document.getElementById(e.watermark_id).shadowRoot,D))},xe=function(){if(arguments.length===1&&typeof arguments[0]=="object"){var a=arguments[0]||{};for(let o in a)a[o]&&e[o]&&a[o]===e[o]||(a[o]||a[o]===0)&&(e[o]=a[o])}var n=document.getElementById(e.watermark_id),m=n.parentNode;m.removeChild(n),P.disconnect()},g;M.init=function(a){g=a,f(a),window.addEventListener("onload",function(){f(a)}),window.addEventListener("resize",function(){f(a)})};M.load=function(a){g=a,f(a)};M.remove=function(){R=!0,xe()};var Me=function(a){var n=document.getElementById(e.watermark_parent_node),m=n||document.body,o=document.getElementById(e.watermark_id);if((o===a[0].target||m===a[0].target)&&(g&&a.length===1||a.length===1&&a[0].removedNodes.length>=1)){f(g);return}if(n){var t=getComputedStyle(n).getPropertyValue("width"),w=getComputedStyle(n).getPropertyValue("height");(t!==O.width||w!==O.height)&&(O.width=t,O.height=w,f(g))}};P=new V(Me);D={childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"],attributeOldValue:!0};var O={width:0,height:0};const Se=()=>{const a=U(),n=j();W(()=>a.app.enableWatermark,t=>{t?m():o()},{immediate:!0});function m(){M.init({watermark_txt:`Fantastic-admin \u6C34\u5370\u6D4B\u8BD5 ${n.account}`,watermark_width:150,watermark_x:0,watermark_y:0,watermark_x_space:50,watermark_y_space:50,watermark_alpha:.1})}function o(){try{M.remove()}catch{}}return{loadWatermark:m,removeWatermark:o}};const Ce={class:"layout"},Ie={class:"wrapper"},ze={class:"main"},Be=te({name:"Layout"}),Ee=Object.assign(Be,{setup(a){const{proxy:n}=le(),m=_e(),o=we(),t=Q(),w=X(),d=Y();Se();const S=ae(()=>typeof m.meta.copyright!="undefined"?m.meta.copyright:t.copyright.enable);W(()=>t.menu.subMenuCollapse,s=>{t.mode==="mobile"&&(s?document.querySelector("body").classList.remove("hidden"):document.querySelector("body").classList.add("hidden"))}),W(()=>m.path,()=>{t.mode==="mobile"&&t.$patch(s=>{s.menu.subMenuCollapse=!0})}),re(()=>{n.$hotkeys("f5",s=>{t.toolbar.enablePageReload&&(s.preventDefault(),p())})}),$("reload",p);function p(){o.push({name:"reload"})}$("switchMenu",k);function k(s){d.setActived(s),t.menu.switchMainMenuAndPageJump&&(Z(d.sidebarMenusFirstDeepestPath)?window.open(d.sidebarMenusFirstDeepestPath,"_blank"):o.push(d.sidebarMenusFirstDeepestPath))}return(s,i)=>{const y=ee,v=K("router-view"),C=J,I=K("el-backtop");return E(),oe("div",Ce,[h("div",{id:"app-main",class:T({"main-page-maximize":_(t).mainPageMaximizeStatus})},[l(ce),h("div",Ie,[h("div",{class:T(["sidebar-container",{show:_(t).mode==="mobile"&&!_(t).menu.subMenuCollapse}])},[l(ke),l(he)],2),h("div",{class:T(["sidebar-mask",{show:_(t).mode==="mobile"&&!_(t).menu.subMenuCollapse}]),onClick:i[0]||(i[0]=u=>_(t).toggleSidebarCollapse())},null,2),h("div",{class:"main-container",style:ne({"padding-bottom":s.$route.meta.paddingBottom})},[l(fe),h("div",ze,[ie(h("div",{class:"exit-main-page-maximize",onClick:i[1]||(i[1]=u=>_(t).setMainPageMaximize())},[l(y,{name:"ri-logout-box-line"})],512),[[me,_(t).mainPageMaximizeStatus]]),l(v,null,{default:F(({Component:u,route:z})=>[l(de,{name:"main",mode:"out-in",appear:""},{default:F(()=>[(E(),A(ue,{include:[..._(w).list]},[(E(),A(pe(u),{key:z.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})]),_(S)?(E(),A(C,{key:0})):se("v-if",!0)],4)]),l(I,{right:20,bottom:20,title:"\u56DE\u5230\u9876\u90E8"})],2),l(ge),l(ye),l(ve)])}}});var Qe=G(Ee,[["__scopeId","data-v-4e2b360a"]]);export{Qe as default};

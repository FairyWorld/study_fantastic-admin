
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{r as e,o as a,n as l,af as o,f as r,q as m,c as u,b as d,w as s,z as t,C as i}from"./index.80ead521.js";const n=t("保密"),f=t("男"),p=t("女"),c={props:{id:{type:[Number,String],default:""}},setup(t,{expose:c}){const g=t,{proxy:b}=i(),v=e({loading:!1,form:{id:g.id,account:"",name:"",mobile:"",sex:"2"},rules:{account:[{required:!0,message:"请输入帐号",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:(e,a,l)=>{let o={key:"mobile",value:a};""!=v.value.form.id&&(o.id=v.value.form.id),b.$api.get("pages_example/manager/check",{baseURL:"/mock/",params:o}).then((e=>{e.data.exist?l(new Error("手机号已存在")):l()}))},trigger:"blur"}]}});return a((()=>{""!=v.value.form.id&&(v.value.loading=!0,b.$api.get("pages_example/manager/detail",{baseURL:"/mock/",params:{id:v.value.form.id}}).then((e=>{v.value.loading=!1,v.value.form.account=e.data.account,v.value.form.name=e.data.name,v.value.form.mobile=e.data.mobile})))})),c({submit(e){""==v.value.form.id?b.$refs.form.validate((a=>{a&&b.$api.post("pages_example/manager/create",v.value.form,{baseURL:"/mock/"}).then((()=>{b.$message.success({message:"模拟新增成功",center:!0}),e&&e()}))})):b.$refs.form.validate((a=>{a&&b.$api.post("pages_example/manager/edit",v.value.form,{baseURL:"/mock/"}).then((()=>{b.$message.success({message:"模拟编辑成功",center:!0}),e&&e()}))}))}}),(e,a)=>{const t=l("el-input"),i=l("el-form-item"),c=l("el-radio-button"),g=l("el-radio-group"),b=l("el-form"),x=o("loading");return r((m(),u("div",null,[d(b,{ref:"form",model:v.value.form,rules:v.value.rules,"label-width":"120px","label-suffix":"："},{default:s((()=>[d(i,{label:"帐号",prop:"account"},{default:s((()=>[d(t,{modelValue:v.value.form.account,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value.form.account=e),placeholder:"请输入帐号"},null,8,["modelValue"])])),_:1}),d(i,{label:"姓名",prop:"name"},{default:s((()=>[d(t,{modelValue:v.value.form.name,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value.form.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])])),_:1}),d(i,{label:"手机号",prop:"mobile"},{default:s((()=>[d(t,{modelValue:v.value.form.mobile,"onUpdate:modelValue":a[2]||(a[2]=e=>v.value.form.mobile=e),placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1}),d(i,{label:"性别",prop:"sex"},{default:s((()=>[d(g,{modelValue:v.value.form.sex,"onUpdate:modelValue":a[3]||(a[3]=e=>v.value.form.sex=e)},{default:s((()=>[d(c,{label:"2"},{default:s((()=>[n])),_:1}),d(c,{label:"1"},{default:s((()=>[f])),_:1}),d(c,{label:"0"},{default:s((()=>[p])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),[[x,v.value.loading]])}}};export{c as default};

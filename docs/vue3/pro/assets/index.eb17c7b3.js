
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{r as e,z as l,l as a,o as t,h as i,a0 as d,a1 as n,A as o,w as s,q as u,j as r,F as p,C as c,y as f,t as y,i as m,u as _,p as v,k as b,O as k}from"./vendor.9da56f98.js";import{_ as h,p as g}from"./index.2c18650f.js";const w=e=>(v("data-v-19ca2e30"),e=e(),b(),e),V={key:0},x=f("编 辑"),L={key:0},C={key:0},U={key:0},z={key:0},j=f("删 除"),$=w((()=>m("span",null,null,-1))),R={key:0,style:{padding:"10px"}},A=f("新增一条运费模版"),O=f("为指定地区设置运费模版"),q={class:"filter"},B=f("全部"),F=f("华北地区"),I=f("东北地区"),N=f("华东地区"),D=f("华中地区"),E=f("华南地区"),G=f("西南地区"),H=f("西北地区"),J=f("自治区"),K=f("直辖市"),M=f("确 定");var P=h({props:{readonly:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},type:{type:Number,default:1}},emits:["update:data"],setup(v,{emit:b}){const h=v,{proxy:w}=k(),P=e({index:"",visible:!1,filter:"",checkList:[],disableList:[]}),Q=l((()=>{let e;switch(P.value.filter){case"":e=g;break;case"autonomousRegion":e=g.filter((e=>e.autonomousRegion));break;case"provinceLevelCity":e=g.filter((e=>e.provinceLevelCity));break;default:e=g.filter((e=>e.region==P.value.filter))}return e}));function S(){P.value.index="",P.value.checkList=[],P.value.disableList=W(),P.value.visible=!0}function T(e){let l="";for(const a in g)g[a].code===e&&(l=g[a].name);return l}function W(e){let l=[];for(let a=0;a<h.data.length;a++)e!==a&&(l=l.concat(h.data[a].list));return l}return(e,l)=>{const k=a("el-tag"),g=a("el-col"),X=a("el-button"),Y=a("el-row"),Z=a("el-table-column"),ee=a("el-input"),le=a("el-table"),ae=a("el-radio-button"),te=a("el-radio-group"),ie=a("el-checkbox"),de=a("el-checkbox-group"),ne=a("el-dialog");return t(),i("div",null,[v.readonly&&0==v.data.length?r("v-if",!0):d((t(),o(le,{key:0,data:v.data,border:"",class:"freight"},{empty:s((()=>[$])),append:s((()=>[v.readonly?r("v-if",!0):(t(),i("div",R,[u(X,{type:"primary",size:"small",plain:"",style:{width:"100%"},onClick:S},{default:s((()=>[A])),_:1})]))])),default:s((()=>[u(Z,{label:"运送到"},{default:s((e=>[v.readonly?(t(),i("div",V,[(t(!0),i(p,null,c(e.row.list,((e,l)=>(t(),o(k,{key:l,type:"info"},{default:s((()=>[f(y(T(e)),1)])),_:2},1024)))),128))])):(t(),o(Y,{key:1,type:"flex",align:"middle",justify:"space-between"},{default:s((()=>[u(g,null,{default:s((()=>[(t(!0),i(p,null,c(e.row.list,((l,a)=>(t(),o(k,{key:a,"disable-transitions":!0,type:"info",closable:"",onClose:a=>function(e,l){let a=h.data;a[e].list.splice(a[e].list.indexOf(l),1),0===a[e].list.length&&a.splice(e,1),b("update:data",a)}(e.$index,l)},{default:s((()=>[f(y(T(l)),1)])),_:2},1032,["onClose"])))),128))])),_:2},1024),u(g,{style:{width:"100px","text-align":"right"}},{default:s((()=>[u(X,{size:"small",plain:"",onClick:l=>{return a=e.$index,P.value.index=a,P.value.checkList=h.data[a].list,P.value.disableList=W(a),void(P.value.visible=!0);var a}},{default:s((()=>[x])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024))])),_:1}),u(Z,{label:1==v.type?"首件数（件）":"首重量（kg）",width:"150",align:"center"},{default:s((e=>[v.readonly?(t(),i("span",L,y(e.row.first_step),1)):(t(),o(ee,{key:1,modelValue:e.row.first_step,"onUpdate:modelValue":l=>e.row.first_step=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),u(Z,{label:"首费（元）",width:"150",align:"center"},{default:s((e=>[v.readonly?(t(),i("span",C,y(e.row.first_price),1)):(t(),o(ee,{key:1,modelValue:e.row.first_price,"onUpdate:modelValue":l=>e.row.first_price=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),u(Z,{label:1==v.type?"续件数（件）":"续重量（kg）",width:"150",align:"center"},{default:s((e=>[v.readonly?(t(),i("span",U,y(e.row.continued_step),1)):(t(),o(ee,{key:1,modelValue:e.row.continued_step,"onUpdate:modelValue":l=>e.row.continued_step=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),u(Z,{label:"续费（元）",width:"150",align:"center"},{default:s((e=>[v.readonly?(t(),i("span",z,y(e.row.continued_price),1)):(t(),o(ee,{key:1,modelValue:e.row.continued_price,"onUpdate:modelValue":l=>e.row.continued_price=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),v.readonly?r("v-if",!0):(t(),o(Z,{key:0,label:"操作",width:"100",align:"center"},{default:s((e=>[u(X,{type:"danger",size:"small",plain:"",onClick:l=>function(e){let l=h.data;l.splice(e,1),b("update:data",l)}(e.$index)},{default:s((()=>[j])),_:2},1032,["onClick"])])),_:1}))])),_:1},8,["data"])),[[n,0!=v.data.length]]),v.readonly?r("v-if",!0):d((t(),o(X,{key:1,type:"primary",size:"default",plain:"",onClick:S},{default:s((()=>[O])),_:1},512)),[[n,0==v.data.length]]),u(ne,{modelValue:P.value.visible,"onUpdate:modelValue":l[3]||(l[3]=e=>P.value.visible=e),title:"选择地区",width:"800px","custom-class":"freight-dialog","append-to-body":"",onClosed:l[4]||(l[4]=e=>P.value.filter="")},{footer:s((()=>[u(X,{type:"primary",onClick:l[2]||(l[2]=e=>function(e){if(0===P.value.checkList.length)w.$message({message:"请勾选区域",type:"warning"});else{let l=h.data;""!==e?l[e].list=P.value.checkList:l.push({list:P.value.checkList,first_step:"",first_price:"",continued_step:"",continued_price:""}),b("update:data",l),P.value.visible=!1}}(P.value.index))},{default:s((()=>[M])),_:1})])),default:s((()=>[m("div",q,[u(te,{modelValue:P.value.filter,"onUpdate:modelValue":l[0]||(l[0]=e=>P.value.filter=e),size:"small"},{default:s((()=>[u(ae,{label:""},{default:s((()=>[B])),_:1}),u(ae,{label:"north"},{default:s((()=>[F])),_:1}),u(ae,{label:"northeast"},{default:s((()=>[I])),_:1}),u(ae,{label:"east"},{default:s((()=>[N])),_:1}),u(ae,{label:"central"},{default:s((()=>[D])),_:1}),u(ae,{label:"south"},{default:s((()=>[E])),_:1}),u(ae,{label:"southwest"},{default:s((()=>[G])),_:1}),u(ae,{label:"northwest"},{default:s((()=>[H])),_:1}),u(ae,{label:"autonomousRegion"},{default:s((()=>[J])),_:1}),u(ae,{label:"provinceLevelCity"},{default:s((()=>[K])),_:1})])),_:1},8,["modelValue"])]),u(de,{modelValue:P.value.checkList,"onUpdate:modelValue":l[1]||(l[1]=e=>P.value.checkList=e),style:{"margin-left":"50px"}},{default:s((()=>[u(Y,null,{default:s((()=>[(t(!0),i(p,null,c(_(Q),((e,l)=>(t(),o(g,{key:l,span:6},{default:s((()=>[u(ie,{label:e.code,disabled:P.value.disableList.includes(e.code)},{default:s((()=>[f(y(e.name),1)])),_:2},1032,["label","disabled"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-19ca2e30"]]);export{P as default};

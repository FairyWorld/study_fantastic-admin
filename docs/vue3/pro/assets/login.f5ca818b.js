
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as J}from"./index.17ce1e91.js";import{_ as Q,u as W,a as X,s as v,b as Y}from"./index.62acde6f.js";import{_ as Z}from"./index.7409b7ba.js";import{g as ee,r,L as oe,h as te,q as e,w as o,i as n,a0 as P,a1 as R,u as q,A as ae,j as le,p as ne,k as se,M as re,a2 as ue,l as c,o as U,t as w,a3 as ie,a4 as z,y as u,a5 as pe,O as de}from"./vendor.ee7254f0.js";var I={};const h=y=>(ne("data-v-78fb50aa"),y=y(),se(),y),ce=h(()=>n("div",{class:"bg-banner"},null,-1)),me=h(()=>n("i",{class:"ri-translate"},null,-1)),_e={id:"login-box"},fe=h(()=>n("div",{class:"login-banner"},null,-1)),ge={class:"title-container"},ve={class:"title"},we={class:"flex-bar"},he=u("\u8BB0\u4F4F\u6211"),ye=u("\u5FD8\u8BB0\u5BC6\u7801"),be={style:{"margin-top":"20px","margin-bottom":"-10px",color:"#666","font-size":"14px","text-align":"center","font-weight":"bold"}},xe=h(()=>n("span",{style:{"margin-right":"5px"}},"\u6F14\u793A\u5E10\u53F7\u4E00\u952E\u767B\u5F55\uFF1A",-1)),Ve=u("admin"),ke=u("test"),$e=h(()=>n("div",{class:"title-container"},[n("h3",{class:"title"},"\u91CD\u7F6E\u5BC6\u7801")],-1)),Ce=ee({name:"Login"}),B=Object.assign(Ce,{setup(y){const{proxy:b}=de(),L=re(),N=ue(),T=W(),K=X(),M="Fantastic-admin \u4E13\u4E1A\u7248",x=r("login"),s=r({account:v.local.get("login_account"),password:"",remember:v.local.has("login_account")}),j=r({account:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],password:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u5BC6\u7801"},{min:6,max:18,trigger:"blur",message:"\u5BC6\u7801\u957F\u5EA6\u4E3A6\u523018\u4F4D"}]}),i=r({account:v.local.get("login_account"),captcha:"",newPassword:""}),A=r({account:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],captcha:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],newPassword:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801"},{min:6,max:18,trigger:"blur",message:"\u5BC6\u7801\u957F\u5EA6\u4E3A6\u523018\u4F4D"}]}),_=r(!1),m=r("password"),k=r(null);oe(()=>{var a;k.value=(a=L.query.redirect)!=null?a:"/"});function $(){m.value=m.value==="password"?"":"password",pe(()=>{b.$refs.password.focus()})}function V(){b.$refs.loginFormRef.validate(a=>{a&&(_.value=!0,K.login(s.value).then(()=>{_.value=!1,s.value.remember?v.local.set("login_account",s.value.account):v.local.remove("login_account"),N.push(k.value)}).catch(()=>{_.value=!1}))})}function D(){b.$message({message:"\u91CD\u7F6E\u5BC6\u7801\u4EC5\u63D0\u4F9B\u754C\u9762\u6F14\u793A\uFF0C\u65E0\u5B9E\u9645\u529F\u80FD\uFF0C\u9700\u5F00\u53D1\u8005\u81EA\u884C\u6269\u5C55",type:"info"}),b.$refs.resetFormRef.validate(a=>{})}function C(a){s.value.account=a,s.value.password="123456",V()}return(a,t)=>{const O=Z,p=Y,f=c("el-input"),g=c("el-form-item"),E=c("el-checkbox"),d=c("el-button"),S=c("el-form"),F=c("el-col"),G=c("el-row"),H=J;return U(),te("div",null,[ce,e(O,{class:"i18n-selector"},{default:o(()=>[me]),_:1}),n("div",_e,[fe,P(e(S,{ref:"loginFormRef",model:s.value,rules:j.value,class:"login-form",autocomplete:"on","label-position":"left"},{default:o(()=>[n("div",ge,[n("h3",ve,w(q(M))+"\u7BA1\u7406\u540E\u53F0",1)]),n("div",null,[e(g,{prop:"account"},{default:o(()=>[e(f,{ref:"name",modelValue:s.value.account,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.account=l),placeholder:a.$t("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:o(()=>[e(p,{name:"user"})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(g,{prop:"password"},{default:o(()=>[e(f,{ref:"password",modelValue:s.value.password,"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.password=l),type:m.value,placeholder:a.$t("app.password"),tabindex:"2",autocomplete:"on",onKeyup:ie(V,["enter"])},{prefix:o(()=>[e(p,{name:"password"})]),suffix:o(()=>[e(p,{name:m.value==="password"?"eye":"eye-open",onClick:$},null,8,["name"])]),_:1},8,["modelValue","type","placeholder","onKeyup"])]),_:1})]),n("div",we,[e(E,{modelValue:s.value.remember,"onUpdate:modelValue":t[2]||(t[2]=l=>s.value.remember=l)},{default:o(()=>[he]),_:1},8,["modelValue"]),e(d,{type:"text",onClick:t[3]||(t[3]=l=>x.value="reset")},{default:o(()=>[ye]),_:1})]),e(d,{loading:_.value,type:"primary",size:"large",style:{width:"100%"},onClick:z(V,["prevent"])},{default:o(()=>[u(w(a.$t("app.login")),1)]),_:1},8,["loading","onClick"]),n("div",be,[xe,e(d,{type:"danger",size:"small",onClick:t[4]||(t[4]=l=>C("admin"))},{default:o(()=>[Ve]),_:1}),e(d,{type:"danger",size:"small",plain:"",onClick:t[5]||(t[5]=l=>C("test"))},{default:o(()=>[ke]),_:1})])]),_:1},8,["model","rules"]),[[R,x.value=="login"]]),P(e(S,{ref:"resetFormRef",model:i.value,rules:A.value,class:"login-form","auto-complete":"on","label-position":"left"},{default:o(()=>[$e,n("div",null,[e(g,{prop:"account"},{default:o(()=>[e(f,{ref:"name",modelValue:i.value.account,"onUpdate:modelValue":t[6]||(t[6]=l=>i.value.account=l),placeholder:a.$t("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:o(()=>[e(p,{name:"user"})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(g,{prop:"captcha"},{default:o(()=>[e(f,{ref:"captcha",modelValue:i.value.captcha,"onUpdate:modelValue":t[7]||(t[7]=l=>i.value.captcha=l),placeholder:a.$t("app.captcha"),type:"text",tabindex:"2",autocomplete:"on"},{prefix:o(()=>[e(p,{name:"captcha"})]),append:o(()=>[e(d,null,{default:o(()=>[u(w(a.$t("app.sendCaptcha")),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(g,{prop:"newPassword"},{default:o(()=>[e(f,{ref:"newPassword",modelValue:i.value.newPassword,"onUpdate:modelValue":t[8]||(t[8]=l=>i.value.newPassword=l),type:m.value,placeholder:a.$t("app.newPassword"),tabindex:"3",autocomplete:"on"},{prefix:o(()=>[e(p,{name:"password"})]),suffix:o(()=>[e(p,{name:m.value==="password"?"eye":"eye-open",onClick:$},null,8,["name"])]),_:1},8,["modelValue","type","placeholder"])]),_:1})]),e(G,{gutter:15,style:{"padding-top":"20px"}},{default:o(()=>[e(F,{md:6},{default:o(()=>[e(d,{size:"large",style:{width:"100%"},onClick:t[9]||(t[9]=l=>x.value="login")},{default:o(()=>[u(w(a.$t("app.goLogin")),1)]),_:1})]),_:1}),e(F,{md:18},{default:o(()=>[e(d,{loading:_.value,type:"primary",size:"large",style:{width:"100%"},onClick:z(D,["prevent"])},{default:o(()=>[u(w(a.$t("app.check")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model","rules"]),[[R,x.value=="reset"]])]),q(T).copyright.enable?(U(),ae(H,{key:0})):le("v-if",!0)])}}});typeof I=="function"&&I(B);var qe=Q(B,[["__scopeId","data-v-78fb50aa"]]);export{qe as default};
